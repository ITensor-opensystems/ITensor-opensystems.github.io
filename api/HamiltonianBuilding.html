<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>HamiltonianBuilding · ITensorsOpenSystems</title><meta name="title" content="HamiltonianBuilding · ITensorsOpenSystems"/><meta property="og:title" content="HamiltonianBuilding · ITensorsOpenSystems"/><meta property="twitter:title" content="HamiltonianBuilding · ITensorsOpenSystems"/><meta name="description" content="Documentation for ITensorsOpenSystems."/><meta property="og:description" content="Documentation for ITensorsOpenSystems."/><meta property="twitter:description" content="Documentation for ITensorsOpenSystems."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">ITensorsOpenSystems</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Introduction</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/tutorial1.html">Open Spin Systems</a></li></ul></li><li><span class="tocitem">Developers</span><ul><li><a class="tocitem" href="../developers/guide.html">Development guide</a></li><li><a class="tocitem" href="../developers/code_layout.html">Code layout</a></li><li><a class="tocitem" href="../developers/VectorizationCore.html">VectorisationCore</a></li></ul></li><li><span class="tocitem">API Documentation</span><ul><li><a class="tocitem" href="ChainMappings.html">ChainMappings</a></li><li><a class="tocitem" href="GlobalFunctionApproximation.html">GlobalFunctionApproximation</a></li><li><a class="tocitem" href="MatrixConstruction.html">MatrixConsreuction</a></li><li><a class="tocitem" href="QuantumTrajectories.html">QuantumTrajectories</a></li><li><a class="tocitem" href="SplitVectorization.html">SplitVectorization</a></li><li><a class="tocitem" href="Superfermions.html">Superfermions</a></li><li><a class="tocitem" href="Utils.html">Utils</a></li><li><a class="tocitem" href="Vectorization.html">Vectorization</a></li><li><a class="tocitem" href="AnalyticSolutions.html">AnalyticSolutions</a></li><li><a class="tocitem" href="AutoMPOHermitianConjugate.html">AutoMPOHermitianConjugate</a></li><li class="is-active"><a class="tocitem" href="HamiltonianBuilding.html">HamiltonianBuilding</a></li><li><a class="tocitem" href="QuantumTrajectories.html">QuantumTrajectories</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Documentation</a></li><li class="is-active"><a href="HamiltonianBuilding.html">HamiltonianBuilding</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="HamiltonianBuilding.html">HamiltonianBuilding</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ITensor-opensystems/OpenSystemsTools.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ITensor-opensystems/OpenSystemsTools.jl/blob/devel/docs/src/api/HamiltonianBuilding.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="HamiltonianBuilding"><a class="docs-heading-anchor" href="#HamiltonianBuilding">HamiltonianBuilding</a><a id="HamiltonianBuilding-1"></a><a class="docs-heading-anchor-permalink" href="#HamiltonianBuilding" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ITensorsOpenSystems.HamiltonianBuilding.build_from_matrix-Tuple{AbstractMatrix, Any, Any}" href="#ITensorsOpenSystems.HamiltonianBuilding.build_from_matrix-Tuple{AbstractMatrix, Any, Any}"><code>ITensorsOpenSystems.HamiltonianBuilding.build_from_matrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_from_matrix(coefficents::AbstractMatrix, leftops, rightops,offset::Integer=0)::OpSum</code></pre><p>Constructs an AutoMPO representation of the expresion Σ<em>{i,j} M</em>{i,j} L<em>i R</em>j where L<em>i and R</em>i are operators on site i and M_{i,j} is a matrix of coefficents</p><p>The operators can be spesifed either as stings or as an iterable of strings. If an iterable is given, then the result is the product of the operators in the iterable, all at the same site, in the given order.</p><p>The leftops, corresponding to the first index of the matrix, are always placed to the right of the rightops, corresponding to the second. </p><p>When considering a subset of sites, which does not start at the first site, an offset can be given which shifts the index of the first site by the given amount.</p><p>#Examples</p><pre><code class="nohighlight hljs"># Build coefficent matrix
m = [0.0 1.0
     1.0 0.0]


# Build hopping term
hopping_ops = build_from_matrix(m,&quot;Cdag&quot;,&quot;C&quot;)

# Build interaction term
u = 0.1
interaction_ops = build_from_matrix(u * m, [&quot;Cdag&quot;,&quot;C&quot;], [&quot;Cdag&quot;.&quot;C&quot;])

# Combine into a single Hamiltonian and build MPO
h = OpSum()
h += hopping_ops
h += interaction_ops

indices = siteinds(&quot;Fermion&quot;,2)
H = MPO(h,indices)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ITensor-opensystems/OpenSystemsTools.jl/blob/cf09ed38c337666824e941dcf3e22d4573fc84c0/src/MPSUtilities/HamiltonianBuilding.jl#L7-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ITensorsOpenSystems.HamiltonianBuilding.insert_ancilla-Tuple{Any, Any}" href="#ITensorsOpenSystems.HamiltonianBuilding.insert_ancilla-Tuple{Any, Any}"><code>ITensorsOpenSystems.HamiltonianBuilding.insert_ancilla</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">insert_ancilla(ops,system_sites)</code></pre><p>Shifts positions of operators in autoMPO object ops to account for an ancilla site being inserted directly after  each site in system_sites.</p><p>see also <code>insert_sites</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ITensor-opensystems/OpenSystemsTools.jl/blob/cf09ed38c337666824e941dcf3e22d4573fc84c0/src/MPSUtilities/HamiltonianBuilding.jl#L142-L148">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ITensorsOpenSystems.HamiltonianBuilding.insert_sites-Tuple{ITensors.LazyApply.Applied{typeof(sum), Tuple{Array{ITensors.LazyApply.Applied{typeof(*), Tuple{C, ITensors.LazyApply.Prod{ITensors.Ops.Op}}, @NamedTuple{}}, 1}}, @NamedTuple{}} where C, Any}" href="#ITensorsOpenSystems.HamiltonianBuilding.insert_sites-Tuple{ITensors.LazyApply.Applied{typeof(sum), Tuple{Array{ITensors.LazyApply.Applied{typeof(*), Tuple{C, ITensors.LazyApply.Prod{ITensors.Ops.Op}}, @NamedTuple{}}, 1}}, @NamedTuple{}} where C, Any}"><code>ITensorsOpenSystems.HamiltonianBuilding.insert_sites</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">insert_sites(ops,sites)</code></pre><p>Shifts the postions of the operators in autoMPO object ops to take account of additional sites being inserted at the positions given in sites. The the positions given in sites refer to positions in the order before any insertions are made.</p><p>#Example</p><pre><code class="nohighlight hljs">ops = OpSum()
ops += &quot;C&quot;, 3, &quot;Cdag&quot;,5
ops += 2.0, &quot;N&quot;, 6

# Add extra sites at positions 1,4 and 6, so that site 3 must be moved
# 1 space to the right (to account for the addition at site 1), site
# 5 must be moved over 2 places (for the additions at sites 1 and 4)
# and position 6 must move to site 9 to account for the additions 
# at sites 1, 5 and the new 6.
insert_sites(ops,[1,4,6])
&gt; sum(
    1.0 C(4,) Cdag(7)
    2.0 N(9,)
)</code></pre><p>see also <code>insert_ancilla</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ITensor-opensystems/OpenSystemsTools.jl/blob/cf09ed38c337666824e941dcf3e22d4573fc84c0/src/MPSUtilities/HamiltonianBuilding.jl#L113-L137">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="AutoMPOHermitianConjugate.html">« AutoMPOHermitianConjugate</a><a class="docs-footer-nextpage" href="QuantumTrajectories.html">QuantumTrajectories »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 13 November 2024 09:24">Wednesday 13 November 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
